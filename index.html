<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OwO Street festival</title>
</head>
<link rel="stylesheet" href="static/style.css">

<style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
    body{
        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        font-weight: 400;
        line-height: 1.5;
        color: #ffdba7;
        text-align: left;
        background-color: #d73c37;
        padding: 0;
        margin: 0;
    }

    .container{
        position: relative;
        max-width: 1280px;
        margin: 0 auto;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 85vh;
    }

    .header{
        text-align: center;
        padding: 25px 0 0 0;
        z-index: 2;
        height: 10vh;
    }

    .infobox{
        position: absolute;
        color: ffdba7;
        padding: 15px;
        top: 30px;
        left: 30px;
        width: 20vw;
        background-color: rgb(153, 19, 5);
        border-radius: 10px;
        z-index: 200;
    }

    @media (max-width: 767px) {
        .header{
            position: relative;
            padding: 10px;
        }

        .infobox{
            position: relative;
            top: auto;
            left: auto;
            width: 90%;
            margin: 0 auto;
            max-width: 100vw;
        }

        .container{
            min-height: 100%;
            margin-top: 25px;
        }
    }
    svg.svgoverlay{
        position: absolute;
        left: 0;
        top: 0;
        z-index: 100;
        width: 100%;
        height: 100%;
    }
    .owomap{
        position: relative;
        float: left;
        max-height: 782px;
        max-width: 1280px;
        border: 4px solid #ffe5bf;
    }
    
    .header h1{
        font-size: 3em;
        color: #ffe5bf;
        margin: 0;
        padding: 0;
        line-height: unset;
    }

    .owomap svg g.plot polygon, .owomap svg g.plot path{
        fill: transparent;
        stroke: #d73c37;
    }
    .owomap svg g.plot:hover > polygon, .owomap svg g.plot:hover > path{
        cursor: pointer !important;
        fill: transparent  !important;
        fill-opacity: 0.5  !important;
        box-shadow: rgb(255, 229, 191) 0px 0px 10px 5px  !important;
    }
    .owomap img{
        margin: 0 auto;
        max-width: 100%;
        max-height: 100vh;
    }

    .infobox img{
        margin: 10px 0;
        max-width: 100%;
    }

    .infobox ul.infobox__details{
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .infobox a{
        color: #fff;
    }

    .hidden{
        display: none;
    }
</style>
<body>
    <div class="header">
        <h1>OwO STREET FESTIVAL</h1>
    </div>
    <div class="infobox">
        <h2 class="infobox__title">Interactive map</h2>
        <p class="infobox__plotnumber hidden">1</p>
        <p class="infobox__description">click a participating plot!</p>
        <ul class="infobox__details hidden">
            <li class="discord"><a class="discord" href="http://discord.gg" target="_blank" rel="noopener noreferrer">Discord</a></li>
            <li class="website"><a href="http://example.com" target="_blank" rel="noopener noreferrer">Website</a></li>
        </ul>
        <img src="https://placehold.co/600x600" class="hidden" alt="Plot image">
    </div>
    <div class="container">  
        <div class="owomap">
            <svg class="svgoverlay" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                viewBox="0 0 960 590.25">
                <defs>
                    <filter id="sofGlow" height="300%" width="300%" x="-75%" y="-75%">
                        <!-- Thicken out the original shape -->
                        <feMorphology operator="dilate" radius="2" in="SourceAlpha" result="thicken" />
                
                        <!-- Use a gaussian blur to create the soft blurriness of the glow -->
                        <feGaussianBlur in="thicken" stdDeviation="10" result="blurred" />
                
                        <!-- Change the colour -->
                        <feFlood flood-color="rgb(255, 229, 191)" result="glowColor" />
                
                        <!-- Color in the glows -->
                        <feComposite in="glowColor" in2="blurred" operator="in" result="softGlow_colored" />
                
                        <!--	Layer the effects together -->
                        <feMerge>
                            <feMergeNode in="softGlow_colored"/>
                            <feMergeNode in="SourceGraphic"/>
                        </feMerge>
                    </filter>
                </defs>
                <g class="plot" data-plot-id="59">
                    <polygon class="st1" points="245.57,202.22 227.76,214.35 229.91,217.09 230.3,219.43 225.02,222.96 232.65,227.07 236.37,234.11 235.29,239 233.63,243.89 226,248.78 231.28,253.09 265.13,269.72 303.09,239.78 282.54,226.09 273.74,221.59 268.65,213.37 258.09,209.65"/>
                </g>
                <g class="plot" data-plot-id="58">
                    <polygon class="st1" points="286.65,138.83 287.83,146.65 287.24,153.89 284.3,159.37 281.17,158.39 279.8,162.3 289.59,176 292.91,176 297.41,184.41 295.07,187.15 289.78,188.91 312.67,221.78 364.52,201.24 342.02,169.93 337.72,171.5 332.83,170.52 325.39,161.13 316.98,148.02 310.72,148.41 305.04,148.22"/>
                </g>
                <g class="plot" data-plot-id="57">
                    <polygon class="st1" points="395.83,274.35 435.61,255.3 412.91,227.52 407.3,230.39 403.65,229.48 392.96,216.7 390.87,218.39 383.17,218.52 377.83,213.96 377.83,219.3 376.52,224 373.91,226.35 369.74,226.87 374.17,233.91 373.78,238.48 372.74,239.65 376.39,244.15 373.13,245.39"/>
                </g>
                <g class="plot" data-plot-id="56">
                    <path class="st1" d="M323.43,249.37l-7.83,13.5c0,0-0.39,5.67-1.17,5.28c-0.78-0.39-2.93,4.5-2.93,4.5l-2.74,1.17l7.34,2.15l-1.47,2.93l1.47,3.52l2.45,1.96l0.2,2.15l-4.89,7.63l-5.09,5.87l5.67,4.11l43.83,4.11l17.02-34.24l-2.74-4.3h-14.28l-2.54-6.07l-5.87,0.78l-2.93-5.87l-0.59-3.72l-10.37,0.59L323.43,249.37z"/>
                </g>
                <g class="plot" data-plot-id="55">
                    <polygon class="st1" points="378.87,344.39 385.13,348.89 434.96,342.57 436.13,303.83 432.61,300.57 431.7,303.96 428.7,303.17 427.65,301.35 428.83,299.13 423.87,294.17 418.39,295.12 395.7,297.57 392.17,300.7 393.74,302.65 386.57,305.91 381.09,315.83 379.91,326.39 381.22,329.13"/>
                </g>
                <g class="plot" data-plot-id="54">
                    <polygon class="st1" points="260.7,361.61 241.13,358.22 248.3,346.35 246.61,343.35 251.17,341.91 257.43,333.3 262.26,325.35 260.17,323.91 262.26,322.61 274.78,326.91 278.7,321.3 288.35,324.43 290.7,321.3 295,315.04 314.17,313.61 327.48,315.04 332.96,318.57 356.43,319.09 363.09,322.87 333.09,384.17 268.26,377.78 259.39,373.1 264.22,367.09 263.7,362.52"/>
                </g>
                <g class="plot" data-plot-id="53">
                    <path class="st1" d="M208.13,326.91l-14.35,18.13l1.83,6.78l-1.3,4.96l11.48,1.43l-4.83,5.09l4.3,4.43c0,0,48.65,4.96,48.39,5.35c-0.26,0.39,7.04-11.48,7.04-11.48l-11.87-1.83l-7.7-1.57l7.17-11.87l-1.7-3l4.57-1.43l6.26-8.61l-19.57-3.39l-12.78-0.26L208.13,326.91z"/>
                </g>
                <g class="plot" data-plot-id="52">
                    <polygon class="st1" points="187.39,427.22 205.39,428.91 205.39,425.26 232,411.96 239.17,407.78 247.13,411.04 270.22,399.83 289.39,432.17 278.3,442.35 275.04,448.74 234.48,473.52 232.13,470.91 228.48,466.87 225.09,460.74 223.65,453.96 223.13,452.26 222.87,450.7 212.04,451.61 209.04,439.87 204.87,435.17 206.96,432.96 190.91,430.48"/>
                </g>
                <g class="plot" data-plot-id="51">
                    <polygon class="st1" points="234.35,493.87 246.22,482.39 251.04,479.65 246.09,477.3 261.48,463.48 266.3,465.3 287.83,448.22 294.87,448.87 322.65,478.74 323.43,485.13 273.48,535.48 266.43,535.48"/>
                </g>
                <g class="plot" data-plot-id="50">
                    <polygon class="st1" points="352.2,410.59 400.72,426.04 424.98,374.39 370,352.48 354.74,385.35 358.65,390.24 356.3,398.07"/>
                </g>
                <g class="plot" data-plot-id="46">
                    <path class="st1" d="M658.39,126.7V71.91h13.11l4.7-17.61l10.37-9.2l4.11,1.37l5.48-7.83l33.26,1.57l-1.17,8.8l5.67-0.39v3.33l-2.74,17.41l3.91,6.46c0,0-1.76,3.72-2.35,4.11s-4.7,2.74-4.7,2.74l-7.83,17.61l10.96,25.24l-2.93,5.48L658.39,126.7z"/>
                </g>
                <g class="plot" data-plot-id="45">
                    <polygon class="st1" points="730,153.43 736.78,188.13 809.83,190.48 802.26,171.96 805.39,168.04 806.43,161.78 816.61,148.74 821.57,148.74 823.65,145.61 822.35,142.22 819.22,136.48 829.13,114.3 826,114.3 824.17,115.35 806.96,115.35 807.22,111.96 790,123.96 784.52,125 781.13,124.22 780.61,128.13 777.48,131 772.26,136.74 767.3,141.96 763.39,142.74 762.61,146.91 760,148.22 756.61,149 747.48,149.26 747.48,145.35 740.7,146.65"/>
                </g>
                <g class="plot" data-plot-id="44">
                    <polygon class="st1" points="672.61,168.3 672.61,186.3 715.65,187.87 720.35,180.83 714.09,161.78 710.17,158.13 714.09,152.39 711.74,143 709.65,140.13 705.74,129.61 702.84,129.43 700.52,132.83 694.52,137 686.7,138.04 686.43,142.74 683.3,145.09 679.13,149.52 678.61,153.43 678.87,156.3 672.61,156.83"/>
                </g>
                <g class="plot" data-plot-id="41">
                    <polygon class="st1" points="741.74,193.35 732.35,199.61 724,199.61 710.96,213.17 706.78,213.17 697.91,245.26 741.74,257.26 747.22,251.78 750.87,222.3 746.43,220.48 749.04,204.83 744.09,203.52"/>
                </g>
                <g class="plot" data-plot-id="34">
                    <path class="st1" d="M647.7,381.17c0.52-0.13,53.74-6.26,53.74-6.26l4.57-5.61l-5.87-3.78l3-2.22l4.04-2.87h3.78l-14.09-29.09h-4.57l-2.74-6.26l-18.13,1.43l0.52-3.52l-15.65,1.17l0.91,2.48l-5.48,3.26l-15.26,0.39l-3.65,4.17L647.7,381.17z"/>
                </g>
                <g class="plot" data-plot-id="33">
                    <polygon class="st1" points="685.65,419.65 710.83,472.22 758.96,460.61 763.52,458.13 751.26,436.48 736.13,408.3"/>
                </g>
                <g class="plot" data-plot-id="32">
                    <polygon class="st1" points="568.78,380.13 592.39,426.7 641.04,405.17 641.57,402.7 634.26,388.74 635.17,382.87 626.96,372.17 623.7,373.87 614.83,358.74 567.22,377.52"/>
                </g>
            </svg>
            <img src="owomap.png" alt="">
        </div>
    </div>
    <script>
        // Import the plotdata.json file
        const plotData = [
            {
                "title": "Gang Gang <OwO>",
                "image": "https://placehold.co/600x400",
                "plot_id": "59",
                "discord": "https://discord.gg/plot1",
                "website": "https://example.com/plots/1",
                "description": "Lorem ipsum dolor sit amet, consectetur adipiscing elit."
            },
            {
                "title": "The Second Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "58",
                "discord": "https://discord.gg/plot2",
                "website": "https://example.com/plots/2",
                "description": "Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
            },
            {
                "title": "Catnip <Cats>",
                "image": "https://i.imgur.com/MG6dqQ3.png",
                "plot_id": "57",
                "discord": "https://discord.gg/HgWTjfvafc",
                "website": "https://eu.finalfantasyxiv.com/lodestone/freecompany/9232801448574619305/",
                "description": "Catnip <Cats> is a friendly, casual, and free spirited company. Fan of cats? New player? Veteran? We welcome all! =^-^="
            },
            {
                "title": "Gang Gang <OwO>",
                "image": "https://placehold.co/600x400",
                "plot_id": "56",
                "discord": "https://discord.gg/plot4",
                "website": "https://example.com/plots/4",
                "description": "This plot belongs to the main host of the event, Gang Gang <OwO>!"
            },
            {
                "title": "Gang Gang <OwO>",
                "image": "https://placehold.co/600x400",
                "plot_id": "55",
                "discord": "https://discord.gg/plot5",
                "website": "https://example.com/plots/5",
                "description": "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
            },
            {
                "title": "The Sixth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "54",
                "discord": "https://discord.gg/plot6",
                "website": "https://example.com/plots/6",
                "description": "Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu."
            },
            {
                "title": "deathRow <DTR>",
                "image": "https://i.imgur.com/3Bi8051.png",
                "plot_id": "53",
                "discord": "https://discord.gg/plot1",
                "website": "https://example.com/plots/1",
                "description": "deathRow <DTR> will be hosting a Triple Triad club on their plot, players can come and challenge the available deathRow members to a game of Triple Triad for a chance to win some prizes!"
            },
            {
                "title": "The Eight Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "52",
                "discord": "https://discord.gg/plot2",
                "website": "https://example.com/plots/2",
                "description": "Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
            },
            {
                "title": "The Ninth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "51",
                "discord": "https://discord.gg/plot3",
                "website": "https://example.com/plots/3",
                "description": "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
            },
            {
                "title": "Gang Gang <OwO>",
                "image": "https://placehold.co/600x400",
                "plot_id": "50",
                "discord": "https://discord.gg/plot4",
                "website": "https://example.com/plots/4",
                "description": "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."
            },
            {
                "title": "The Eleventh Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "46",
                "discord": "https://discord.gg/plot5",
                "website": "https://example.com/plots/5",
                "description": "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
            },
            {
                "title": "The Twelveth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "45",
                "discord": "https://discord.gg/plot6",
                "website": "https://example.com/plots/6",
                "description": "Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu."
            },
            {
                "title": "The Thirtheenth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "44",
                "discord": "https://discord.gg/plot3",
                "website": "https://example.com/plots/3",
                "description": "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
            },
            {
                "title": "The Fourteenth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "41",
                "discord": "https://discord.gg/plot4",
                "website": "https://example.com/plots/4",
                "description": "Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."
            },
            {
                "title": "The Fifteenth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "34",
                "discord": "https://discord.gg/plot5",
                "website": "https://example.com/plots/5",
                "description": "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
            },
            {
                "title": "The Sixteenth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "32",
                "discord": "https://discord.gg/plot6",
                "website": "https://example.com/plots/6",
                "description": "lorem ipsum dolor sit amet, consectetur adipiscing elit."
            },
            {
                "title": "The Seventeenth Plot",
                "image": "https://placehold.co/600x400",
                "plot_id": "33",
                "discord": "https://discord.gg/plot6",
                "website": "https://example.com/plots/6",
                "description": "Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu."
            }
        ]

        const infoboxTitle = document.querySelector('h2.infobox__title');
        const infoboxDescription = document.querySelector('.infobox__description');
        const infoboxImg = document.querySelector('.infobox img');
        const infoboxDetails = document.querySelector('ul.infobox__details');
        const plotElements = document.querySelectorAll('.owomap > svg .plot');
        const infboxPlotnumber = document.querySelector('.infobox__plotnumber');

        let activePlot = null;

        plotElements.forEach(function(plotElement) {
            // Mouseover event listener
            plotElement.addEventListener('mouseover', function(event) {
                // Get the first child element of the plot element
                const firstChild = plotElement.firstElementChild;

                // Add the filter to the first child element
                firstChild.setAttribute('filter', 'url(#sofGlow)');
            });

            // Mouseout event listener
            plotElement.addEventListener('mouseout', function(event) {
                // Get the first child element of the plot element
                const firstChild = plotElement.firstElementChild;

                // Remove the filter from the first child element if the plot element does not have the "active" class
                if (!plotElement.classList.contains('active')) {
                    firstChild.removeAttribute('filter');
                }
            });

            // Click event listener
            plotElement.addEventListener('click', function(event) {
                // Get the data-plot-id attribute value of the clicked plot element
                const plotId = plotElement.getAttribute('data-plot-id');

                // Find the plot object with the matching plot_id property
                const plotObject = plotData.find(plot => plot.plot_id === plotId);

                // Update the infobox title element with the plot id
                infoboxTitle.textContent = `${plotObject.title}`;
                infoboxDescription.textContent = `${plotObject.description}`;

                // Remove the "active" class from the previously clicked plot, if there is one
                if (activePlot) {
                    activePlot.classList.remove('active');
                    const activeFirstChild = activePlot.firstElementChild;
                    activeFirstChild.removeAttribute('filter');
                }

                // Get the first child element of the plot element
                const firstChild = plotElement.firstElementChild;

                // Add the "active" class to the newly clicked plot
                plotElement.classList.add('active');
                firstChild.setAttribute('filter', 'url(#sofGlow)');

                // Set the newly clicked plot as the active plot
                activePlot = plotElement;

                // Populate the infobox details with the plot object data
                infoboxImg.classList.remove('hidden');
                infoboxImg.src = `${plotObject.image}`;

                infboxPlotnumber.classList.remove('hidden');
                infboxPlotnumber.textContent = `Plot ${plotObject.plot_id}`;

                infoboxDetails.classList.remove('hidden');
                infoboxDetails.innerHTML = `
                    <li class="discord"><a class="discord" href="${plotObject.discord}" target="_blank" rel="noopener noreferrer">Discord</a></li>
                    <li class="website"><a href="${plotObject.website}" target="_blank" rel="noopener noreferrer">Website</a></li>
                `;

            });
        });
    </script>
</body>
</html>